<html>
<body>
<canvas id="myCanvas" width="600" height="300" style="border:1px solid #000000;">
</canvas>
<script>
var c = document.getElementById("myCanvas");
//c.width= 600;
//c.hegith = 600;
var ctx = c.getContext("2d");
ctx.fillStyle = "#6ADCD8";

        var s = ' 中文字體';
        var fontSize = 860/(s.length);
        if (fontSize > 160) fontSize = 160;
        //ctx.font = "900 "+fontSize+"px 'Source Sans Pro'";
        ctx.font = "900 "+fontSize+"px 'STSong'";
        ctx.textAlign = 'left';
        ctx.fillText(s,10,130);



        //var ctx = document.getElementById('text').getContext('2d');
        var pix = ctx.getImageData(0,0,600,200).data;
        var textPixels = [];
        var gap = 4;
        for (var i = pix.length; i >= 0; i -= gap) {
            if (pix[i] != 0) {
                var x = (i / 4) % 600;
                var y = Math.floor(Math.floor(i/600)/4);

                if((x && x%6 == 0) && (y && y%6 == 0)) textPixels.push({x: x, y: y});
            }
        }

        for (var i=0, l=textPixels.length; i<l; i++) {
              ctx.beginPath();
              ctx.arc(textPixels[i].x, textPixels[i].y, 2, 0, 2 * Math.PI, false);
              ctx.fillStyle = '#26A3D9';
              ctx.fill();
              //ctx.lineWidth = 5;
              //ctx.strokeStyle = '#003300';
              //ctx.stroke();
        }
</script>
</body>
</html>
